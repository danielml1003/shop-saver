import datetime


def job_that_runs_every_hour():
    now = datetime.datetime.now().strftime("%Y%m%d%H%M")
    return now







mayaanStore = {
    "Url": "https://maayan2000.binaprojects.com/Download.aspx?FileNm=",
    "WFileType": fileType,
    "ChainId":7290058159628,
    "StoreId": ["001","002","003","004","005","006","007","008","009","010","011","013","016","017","018","019","020","021","022","023","026","027","028","029","035","038","039","040","041","043","044","045","046","047","048","049","050","060","061","062","063"],
    "WDate": job_that_runs_every_hour(),
    "siteType": "original"
}

goodPharm = {
    "Url": "https://goodpharm.binaprojects.com/Download.aspx?FileNm=",
    "WFileType": fileType,
    "ChainId":7290058197699,
    "StoreId": ["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063"],
    "WDate": job_that_runs_every_hour(),
    "siteType": "original"
}

#remember to update the storeId
dorAlon ={
    "Url": "https://url.publishedprices.co.il/file/d/",
    "WFileType": fileType,
    "ChainId":7290492000005,
    "StoreId": ["401","402","501","503","504","505","506","507","508","509","510","511","512","513","514","516","517","518","519","524","529","531","533","534","535","536","537","540","542","544","545","548","549","551","554","556","557","558","560","563","564","566","568","570","571","576","577","578","579","580","581","582","583","591","594","595","596","597","599","644","645","647","648","828","829","830","832","834","837","839","840","843","847","848","850","852","853","856","858","860","861","865","868","870","871","900","901","902","903","904","905","906","908","910","911","912","913","914","915","918","921","922","924","925","927","928","930","933","935","936","939","940","941","942","944","947","948","949","951","952","955","958","960","961","968","969","976","978","980","981","992","995","997","650","651","652","653","654","709","710","658","661","666","723","801","804","807","808","811","813","814","815","818","820","821","822","823","824","668","655","656","657","733","734","649","711","714","715","717","718","719","721","722","702","706","707","724","725","726","727","730"],
    "WDate": job_that_runs_every_hour(),
    "siteType": "ceberus"
}

tivTaam = {
    "Url": "https://url.publishedprices.co.il/file/d/",
    "WFileType": fileType,
    "ChainId":7290873255550,
    "StoreId": ["002","003","006","007","010","012","014","015","017","018","019","020","021","022","023","024","025","030","051","052","054","056","057","058","059","061","063","068","070","071","073","074","075","079","080","082","083","084","085","087","088","089","091","092","156","502","503","512","514","515","519","523"],
    "WDate": job_that_runs_every_hour(),
    "siteType": "ceberus"
}

victory = {
    "Url": "https://laibcatalog.co.il/",
    "WFileType": fileType,
    "ChainId":7290696200003,
    "StoreId": ["401","402","501","503","504","505","506","507","508","509","510","511","512","513","514","516","517","518","519","524","529","531","533","534","535","536","537","540","542","544","545","548","549","551","554","556","557","558","560","563","564","566","568","570","571","576","577","578","579","580","581","582","583","591","594","595","596","597","599","644","645","647","648","828","829","830","832","834","837","839","840","843","847","848","850","852","853","856","858","860","861","865","868","870","871","900","901","902","903","904","905","906","908","910","911","912","913","914","915","918","921","922","924","925","927","928","930","933","935","936","939","940","941","942","944","947","948","949","951","952","955","958","960","961","968","969","976","978","980","981","992","995","997","650","651","652","653","654","709","710","658","661","666","723","801","804","807","808","811","813","814","815","818","820","821","822","823","824","668","655","656","657","733","734","649","711","714","715","717","718","719","721","722","702","706","707","724","725","726","727","730"],
    "WDate": job_that_runs_every_hour(),
    "siteType": "one"
}

zolvebegadol = {
    "Url": "https://zolvebegadol.binaprojects.com/Download.aspx?FileNm=",
    "WFileType": fileType,
    "ChainId":7290058173198,
    "StoreId": ["002","003","004","006","007","008","009","011","012","013","014","015","016","018","019","020","021","023","024","025","026","027","028","030","031","032","033","035","036","037","038","039","040","041","042","089"],
    "WDate": job_that_runs_every_hour(),
    "siteType": "original"
}

carrefour = {
    "Url": "https://prices.mega.co.il/",
    "WFileType": fileType,
    "ChainId":7290058173198,
    "StoreId": ["0002","0004","0006","0009","0010","0015","0019","0026","0030","0033","0037","0041","0044","0046","0055","0056","0057","0059","0060","0061","0062","0063","0064","0065","0067","0068","0073","0074","0080","0081","0083","0084","0085","0089","0090","0091","0092","0108","0116","0118","0119","0132","0140","0183","0191","0205","0213","0221","0256","0329","0337","0345","0353","0493","0515","0523","0558","0580","0610","0620","0698","0701","0752","0820","0830","0850","0870","0906","0914","0981","1030","1040","1090","1112","1139","1147","1150","1171","1190","1201","1228","1236","1252","1279","1295","1309","1340","1430","2040","2070","2150","2180","2190","2230","2240","2310","2320","2330","2410","2470","2490","2518","2530","2540","2577","2730","2740","2750","2840","2960","2976","3020","3050","3174","3180","3210","3280","3300","3420","3440","3506","3580","3600","3610","3680","3700","3740","3850","3990","4110","4120","4130","4150","4160","4170","4200","4220","4270","4280","4420","4640","5304"],
    "WDate": job_that_runs_every_hour(),
    "siteType": "mega"
}



stores = [kingStore, mayaanStore, goodPharm, dorAlon, tivTaam, victory, zolvebegadol, carrefour]


def makeUrlOriginal(store):
    for storeId in store["StoreId"]:
        for fileType in store["WFileType"]:
            for timestamp in store["WDate"]:
                urls = store["Url"] + fileType + str(store["ChainId"]) + "-" + storeId + "-" + timestamp + ".gz"
                print(urls)

def makeUrlMega(store):
    for storeId in store["StoreId"]:
        urls = store["Url"] + store["WFileType"] + store["chainId"] + "-" + storeId + "-" + store["WDate"] + ".json"

def makeUrlOne(store):
    for storeId in store["StoreId"]:
        urls = store["Url"] + store["WFileType"] + store["chainId"] + "-" + storeId + "-" + store["WDate"] + ".json"

def makeUrlCeberus(store):
    for storeId in store["StoreId"]:
        urls = store["Url"] + store["WFileType"] + store["chainId"] + "-" + storeId + "-" + store["WDate"] + ".json"


if __name__ == "__main__":
    
    makeUrlOriginal(kingStore)

